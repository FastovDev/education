## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ Reflection?

**Reflection (–†–µ—Ñ–ª–µ–∫—Å–∏—è)** –≤ C# ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏–∑—É—á–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–∏–ø–æ–≤ (–∫–ª–∞—Å—Å–æ–≤, –º–µ—Ç–æ–¥–æ–≤, —Å–≤–æ–π—Å—Ç–≤ –∏ —Ç. –¥.) –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. Reflection –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –∏–º–µ–Ω `System.Reflection` –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–±–æ—Ä–∫–∞—Ö, –º–æ–¥—É–ª—è—Ö, —Ç–∏–ø–∞—Ö
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤
- –í—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π/—Å–≤–æ–π—Å—Ç–≤
- –†–∞–±–æ—Ç–∞—Ç—å —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

---

## 2. –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è Reflection?

### 1Ô∏è‚É£ **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ ORM (–Ω–∞–ø—Ä–∏–º–µ—Ä, Entity Framework, Dapper)**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–ª–∞—Å—Å–æ–≤-–º–æ–¥–µ–ª–µ–π –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### 2Ô∏è‚É£ **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (JSON, XML)**

–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Ç–∏–ø–∞ Newtonsoft.Json –∏—Å–ø–æ–ª—å–∑—É—é—Ç Reflection –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤.

### 3Ô∏è‚É£ **Dependency Injection (DI)**

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (ASP.NET Core DI, Autofac) –∏—Å–ø–æ–ª—å–∑—É—é—Ç Reflection –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–æ–≤.

### 4Ô∏è‚É£ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Unit-—Ç–µ—Å—Ç—ã, Moq, xUnit, NUnit)**

–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç Reflection –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –∏—Ö –∑–∞–ø—É—Å–∫–∞.

### 5Ô∏è‚É£ **–ü–ª–∞–≥–∏–Ω—ã –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–±–æ—Ä–æ–∫**

–ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã (`.dll`) –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –º–µ—Ç–æ–¥—ã.

---

## 3. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Reflection

### üìå 3.1 –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–µ

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å Reflection –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω `System.Reflection`.

–ü—Ä–∏–º–µ—Ä –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–µ (`Type`):

```C#
using System;
using System.Reflection;

class Program
{
    static void Main()
    {
        Type type = typeof(Person);
        
        Console.WriteLine($"–ò–º—è –∫–ª–∞—Å—Å–∞: {type.Name}");
        Console.WriteLine($"–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω: {type.Namespace}");

        Console.WriteLine("\n–°–≤–æ–π—Å—Ç–≤–∞:");
        foreach (var prop in type.GetProperties())
        {
            Console.WriteLine($"- {prop.Name} ({prop.PropertyType.Name})");
        }

        Console.WriteLine("\n–ú–µ—Ç–æ–¥—ã:");
        foreach (var method in type.GetMethods())
        {
            Console.WriteLine($"- {method.Name}");
        }
    }
}

public class Person
{
    public string Name { get; set; }
    public int Age { get; set; }

    public void SayHello() => Console.WriteLine("Hello!");
}

```

**–í—ã–≤–æ–¥:**

```diff
–ò–º—è –∫–ª–∞—Å—Å–∞: Person  
–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º–µ–Ω: <—Ç–µ–∫—É—â–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ>  

–°–≤–æ–π—Å—Ç–≤–∞:  
- Name (String)  
- Age (Int32)  

–ú–µ—Ç–æ–¥—ã:  
- get_Name  
- set_Name  
- get_Age  
- set_Age  
- SayHello  
- ToString  
- Equals  
- GetHashCode  
- GetType  

```

---

### üìå 3.2 –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Reflection

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏:

```C#
Type type = typeof(Person);
object obj = Activator.CreateInstance(type);

Console.WriteLine($"–°–æ–∑–¥–∞–Ω –æ–±—ä–µ–∫—Ç: {obj.GetType().Name}");

```

–ï—Å–ª–∏ —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:

```C#
Type type = typeof(Person);
object obj = Activator.CreateInstance(type, "John", 30);

```

---

### üìå 3.3 –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Reflection

```C#
Type type = typeof(Person);
object obj = Activator.CreateInstance(type);

MethodInfo method = type.GetMethod("SayHello");
method.Invoke(obj, null);
```
---

### üìå 3.4 –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—è–º–∏ –∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏

```C#
Type type = typeof(Person);
object obj = Activator.CreateInstance(type);

PropertyInfo prop = type.GetProperty("Name");
prop.SetValue(obj, "Alice");

Console.WriteLine(prop.GetValue(obj)); // –í—ã–≤–µ–¥–µ—Ç: Alice

```

---

## 4. –ê—Ç—Ä–∏–±—É—Ç—ã –≤ `C#`

**–ê—Ç—Ä–∏–±—É—Ç—ã** ‚Äî —ç—Ç–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫ –∫–ª–∞—Å—Å–∞–º, –º–µ—Ç–æ–¥–∞–º, —Å–≤–æ–π—Å—Ç–≤–∞–º –∏ —Ç. –¥. –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### üìå 4.1 –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã

–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤:
```C#
[Obsolete("–ú–µ—Ç–æ–¥ —É—Å—Ç–∞—Ä–µ–ª, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ NewMethod")]
public void OldMethod()
{
    Console.WriteLine("–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —É—Å—Ç–∞—Ä–µ–ª");
}

```

```C#
[Serializable] // –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å
public class Person { }

```

---

### üìå 4.2 –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–≤—à–∏—Å—å –æ—Ç `Attribute`.

```C#
[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method, Inherited = false)]
public class AuthorAttribute : Attribute
{
    public string Name { get; }
    public AuthorAttribute(string name) => Name = name;
}

```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```C#
[Author("–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤")]
public class MyClass { }

```

---

### üìå 4.3 –ß—Ç–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —á–µ—Ä–µ–∑ Reflection

```C#
Type type = typeof(MyClass);
AuthorAttribute attr = (AuthorAttribute)Attribute.GetCustomAttribute(type, typeof(AuthorAttribute));

if (attr != null)
{
    Console.WriteLine($"–ê–≤—Ç–æ—Ä –∫–ª–∞—Å—Å–∞: {attr.Name}");
}

```

---

## 5. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–±–æ—Ä–æ–∫ (Plugins)

–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å `.dll` –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:

```C#
Assembly asm = Assembly.LoadFrom("MyPlugin.dll");

Type pluginType = asm.GetType("MyPlugin.PluginClass");
object pluginInstance = Activator.CreateInstance(pluginType);

MethodInfo method = pluginType.GetMethod("Execute");
method.Invoke(pluginInstance, null);

```

---

## 6. –û–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ Reflection

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Reflection –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–±—ã—á–Ω–æ–≥–æ –∫–æ–¥–∞, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**: –û—à–∏–±–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ß–µ—Ä–µ–∑ Reflection –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –¥–∞–Ω–Ω—ã–º, —á—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º?**

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Reflection —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –ö—ç—à–∏—Ä—É–π—Ç–µ `Type`, `MethodInfo`, `PropertyInfo`, –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç–µ –∏—Ö —á–∞—Å—Ç–æ.
- –î–ª—è DI –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (ASP.NET Core DI, Newtonsoft.Json).

---

## 7. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Reflection ‚Äì –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º. –ï–≥–æ —Ä–∞–∑—É–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–∏–±–∫–∏–µ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∏–∑-–∑–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

üí° **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
‚úÖ –í DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö  
‚úÖ –í ORM-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö  
‚úÖ –í –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–∞–≥–∏–Ω–æ–≤  
‚úÖ –í –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

‚ùå **–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
‚ùå –í –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö  
‚ùå –ï—Å–ª–∏ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –æ–±—ã—á–Ω—ã–º –∫–æ–¥–æ–º