Типы - bridge( по умолчанию) , host, none
172.17.0.0/16

Бридж появляется при базовом создании, открытие портов участвует в создании этого типа сети. Имеют по умолчанию доступ наружу. Соединение идет через порты, своеобразный мост. Поэтому бридж.


Хост получает ip хоста, отличаются портами.
docker run nginx --network=host
Можно подключиться локально. 

docker run nginx --network=none - никак не может подключиться к контейнеру извне, сетевого взаимодействия нет. Но можно посмотреть логи, запускать программы и т.д.

Еще есть macvlan, ipvlan, swarm.

В бридже контейнеры могут общаться между собой по айпи, но не по именам. 

docker network create --drive bridge Name - создание своей сети
docker run --net myNAME nginx - запуск в своей сети, такие контейнеры могут общаться по именам, работает dns. 

Бриджи между собой общаться не могут. К бриджу можно подключиться локально. 

--drive host
Контейнеры могут общаться между собой и между сервером.

--drive none 
Не общаются никак между собой, только команды локально можно запустить.



macvlan и ipvlan 

Контейнеры получают свои адреса, можно сразу же подключаться к ним. 
Контейнеры получают свои макадреса в первом случае. 
Во втором случае мак адреса контейнеров равны маку адреса сервера. 

ip a  - проверка существующих сетевых интерфейсов внутри контейнера


docker network ls

Есть не указывать драйвер создается вариант с бриджем. 

Нельзя создать больше одной сети типа хост. 

null - аналогично.

docker network inspect idNetwork

docker network create -d bridge --subnet 192.168.10.0/24 -- gateway 192.168.10.1 myNet192 - задаем свой ip в нужной подсети.

docker network rm Name/Id

docker network connect myNEt1 container2 - подключает к сети контейнер, может находиться в нескольких сетях

docker network disconnect idNetwork container2

Удобно подключать к разным подсетям прокси сервер, который будет работать с каждым изолированным контейнером. 

docker --ip 10.10.10.213 - задать конкретный ай пи адрес