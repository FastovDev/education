–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∏—Ö –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### **üîπ –í–∏–¥—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ ASP.NET Core:**

1. **MemoryCache** (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –≤ –ø–∞–º—è—Ç–∏)
2. **Distributed Cache** (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫—ç—à, –Ω–∞–ø—Ä–∏–º–µ—Ä, Redis, SQL Server)
3. **Response Caching** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–æ—Ç–≤–µ—Ç–æ–≤)
4. **Output Caching** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞)
5. **Cache Tag Helper** (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π)
6. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Ä–µ—à–µ–Ω–∏–π** (Redis, Nginx, Cloudflare)

---

# **1Ô∏è‚É£ MemoryCache (–õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –≤ –ø–∞–º—è—Ç–∏)**

`MemoryCache` ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, —Ö—Ä–∞–Ω—è—â–∏–π –¥–∞–Ω–Ω—ã–µ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞.

### **üìå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ MemoryCache**

–î–æ–±–∞–≤—å—Ç–µ `MemoryCache` –≤ `Program.cs`:

```C#
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddMemoryCache();
var app = builder.Build();

```

### **üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MemoryCache**

```C#
using Microsoft.Extensions.Caching.Memory;

public class MyService
{
    private readonly IMemoryCache _cache;

    public MyService(IMemoryCache cache)
    {
        _cache = cache;
    }

    public string GetData()
    {
        if (!_cache.TryGetValue("myKey", out string data))
        {
            data = "–ü—Ä–∏–≤–µ—Ç, –∫—ç—à!";
            _cache.Set("myKey", data, TimeSpan.FromMinutes(5));
        }
        return data;
    }
}

```

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úî –ë—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏  
‚úî –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**  
‚ùå –î–∞–Ω–Ω—ã–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

---

# **2Ô∏è‚É£ Distributed Cache (–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫—ç—à)**

–ö–æ–≥–¥–∞ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤, –ª–æ–∫–∞–ª—å–Ω—ã–π `MemoryCache` –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Distributed Cache**, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- **Redis** (–ª—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç)
- **SQL Server Cache**
- **NCache**

### **üìå –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Distributed Cache –≤ `Program.cs`**

–î–æ–±–∞–≤—å—Ç–µ Redis:

```C#
dotnet add package Microsoft.Extensions.Caching.StackExchangeRedis

```

–î–æ–±–∞–≤—å—Ç–µ –≤ `Program.cs`:

```C#
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddStackExchangeRedisCache(options =>
{
    options.Configuration = "localhost:6379";
    options.InstanceName = "MyAppCache";
});

var app = builder.Build();

```

### **üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis Cache**

```C#
using Microsoft.Extensions.Caching.Distributed;
using System.Text;
using System.Text.Json;

public class RedisService
{
    private readonly IDistributedCache _cache;

    public RedisService(IDistributedCache cache)
    {
        _cache = cache;
    }

    public async Task SetDataAsync(string key, object value, int minutes)
    {
        var options = new DistributedCacheEntryOptions()
            .SetAbsoluteExpiration(TimeSpan.FromMinutes(minutes));

        var jsonData = JsonSerializer.Serialize(value);
        await _cache.SetStringAsync(key, jsonData, options);
    }

    public async Task<T> GetDataAsync<T>(string key)
    {
        var jsonData = await _cache.GetStringAsync(key);
        return jsonData is null ? default : JsonSerializer.Deserialize<T>(jsonData);
    }
}

```

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úî –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
‚úî –†–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ —Å–µ—Ä–≤–µ—Ä–æ–≤

**‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**  
‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è Redis  
‚ùå –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

---

# **3Ô∏è‚É£ Response Caching (–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–æ—Ç–≤–µ—Ç–æ–≤)**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API-–æ—Ç–≤–µ—Ç–æ–≤.

### **üìå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Response Caching**

–î–æ–±–∞–≤—å—Ç–µ –≤ `Program.cs`:

```C#
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddResponseCaching();
var app = builder.Build();

app.UseResponseCaching();

```

### **üìå –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**

```C#
[HttpGet("cached-data")]
[ResponseCache(Duration = 30, Location = ResponseCacheLocation.Any)]
public IActionResult GetCachedData()
{
    return Ok($"–û—Ç–≤–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –≤: {DateTime.UtcNow}");
}

```

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úî –ë—ã—Å—Ç—Ä–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ GET-–∑–∞–ø—Ä–æ—Å–æ–≤  
‚úî –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**  
‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç POST-–∑–∞–ø—Ä–æ—Å—ã  
‚ùå –ö—ç—à–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∞–º HTTP-–æ—Ç–≤–µ—Ç, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ

---

# **4Ô∏è‚É£ Output Caching (–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–µ—Ç–æ–¥–æ–≤)**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

### **üìå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Output Caching**

```C#
dotnet add package Microsoft.AspNetCore.OutputCaching
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `Program.cs`:

```C#
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddOutputCache();
var app = builder.Build();

app.UseOutputCache();

```

### **üìå –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ**

```C#
[HttpGet("output-cache")]
[OutputCache(PolicyName = "Default")]
public IActionResult GetOutputCache()
{
    return Ok($"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤: {DateTime.UtcNow}");
}
```
**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úî –ë—ã—Å—Ç—Ä–µ–µ, —á–µ–º `ResponseCaching`  
‚úî –ö—ç—à–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞

**‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**  
‚ùå –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø. –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª–∏—Ç–∏–∫–∏

---

# **5Ô∏è‚É£ Cache Tag Helper (–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü)**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ **Razor Pages**.

```html
<cache expires-after="@TimeSpan.FromMinutes(5)">
    –î–∞—Ç–∞: @DateTime.Now
</cache>

```

**‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**  
‚úî –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü  
‚úî –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**  
‚ùå –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ **Razor Pages**

---

# **üìå –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–µ—Ç–æ–¥–æ–≤ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**

|–ú–µ—Ç–æ–¥|–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ?|–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è|
|---|---|---|
|**MemoryCache**|–û–ó–£ —Å–µ—Ä–≤–µ—Ä–∞|–õ–æ–∫–∞–ª—å–Ω—ã–µ, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ|
|**Distributed Cache**|Redis, SQL Server|–ö–ª–∞—Å—Ç–µ—Ä—ã —Å–µ—Ä–≤–µ—Ä–æ–≤|
|**Response Caching**|–û–ó–£ —Å–µ—Ä–≤–µ—Ä–∞|–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–æ—Ç–≤–µ—Ç–æ–≤|
|**Output Caching**|–û–ó–£ —Å–µ—Ä–≤–µ—Ä–∞|–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–µ—Ç–æ–¥–æ–≤|
|**Cache Tag Helper**|–û–ó–£ —Å–µ—Ä–≤–µ—Ä–∞|–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü|

---

# **üîπ –ö–∞–∫–æ–π –∫—ç—à –≤—ã–±—Ä–∞—Ç—å?**

- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MemoryCache** –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis** –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –æ–±–ª–∞–∫–µ
- **–í–∫–ª—é—á–∏—Ç–µ Response Caching** –¥–ª—è GET-–∑–∞–ø—Ä–æ—Å–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Output Caching** –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

üöÄ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ **—É—Å–∫–æ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç **–∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏**!