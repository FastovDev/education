WebSocket — это протокол связи поверх TCP, предназначенный для двусторонней передачи данных между клиентом (обычно это веб-браузер) и сервером. В отличие от классических HTTP-запросов, WebSocket позволяет установить постоянное соединение, которое остается открытым, что дает возможность обмениваться данными в реальном времени без необходимости повторных запросов от клиента.

Основные преимущества WebSocket:
- Двусторонняя связь: Клиент и сервер могут обмениваться сообщениями в обоих направлениях в любой момент времени, что делает протокол особенно полезным для приложений с высокими требованиями к интерактивности и реальному времени.
- Постоянное соединение: После установки WebSocket-соединение остается открытым, что снижает накладные расходы на установку новых HTTP-запросов.
- Меньшие задержки: WebSocket устраняет необходимость многократной инициализации соединения, как в случае с HTTP-запросами, что минимизирует задержки передачи данных.
- Эффективность: WebSocket использует меньше заголовков в каждом сообщении, что снижает нагрузку на сеть.

Где используется WebSocket?
- Чаты
- Онлайн-игры
- Реальные данные (например, биржевые котировки)
- Системы уведомлений
- Приложения для совместной работы (редакторы в реальном времени)

Как работает WebSocket?
Клиент (чаще всего веб-браузер) посылает запрос на установку WebSocket-соединения на сервер с использованием HTTP-запроса с методом Upgrade.
Сервер, если он поддерживает WebSocket, подтверждает запрос и устанавливает соединение.
После установления соединения клиент и сервер могут отправлять сообщения друг другу, используя двустороннюю связь.

Nginx может работать как прокси-сервер для WebSocket-соединений. Это особенно полезно, когда у вас есть серверное приложение, которое использует WebSocket, а Nginx распределяет нагрузку или обеспечивает SSL.
```Nginx
http {
    server {
        listen 80;
        server_name example.com;

        location /socket {
            proxy_pass http://localhost:8080;
            proxy_http_version 1.1;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection "Upgrade";
            proxy_set_header Host $host;
        }
    }
}
```

Описание параметров:
`proxy_pass`: Прокси-переадресация на backend-сервер WebSocket (в данном случае сервер на localhost:8080).
`proxy_http_version 1.1`: Устанавливает HTTP/1.1, необходимый для работы WebSocket.
`proxy_set_header Upgrade`: Заголовок для апгрейда соединения с HTTP на WebSocket.
`proxy_set_header Connection "Upgrade"`: Устанавливает заголовок Connection: Upgrade, необходимый для WebSocket.
