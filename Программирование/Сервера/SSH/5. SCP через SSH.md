`scp` (Secure Copy Protocol) — это утилита для безопасного копирования файлов между локальными и удалёнными системами через SSH. Она используется для передачи данных с шифрованием, что защищает файлы от перехвата.
### **Когда применяется**

- Для переноса файлов между локальной машиной и удалённым сервером.
- Для копирования файлов между двумя удалёнными серверами.
- В сценариях, где требуется защищённое соединение (например, вместо FTP).
### **Примеры использования**

**Копирование файла на удалённый сервер:**
`scp localfile.txt user@remote_host:/path/to/destination/`

**Копирование файла с удалённого сервера на локальную машину:** 
`scp user@remote_host:/path/to/file.txt ./localfile.txt`

**Копирование файлов между двумя удалёнными серверами:**
`scp user1@host1:/path/file.txt user2@host2:/path/destination/`
### **Аналоги**

1. **`rsync`**: Более гибкий инструмент для синхронизации и копирования файлов, поддерживающий инкрементальные копии.
2. **`sftp`**: Интерактивный инструмент для управления файлами через SSH.
3. **`ftp` / `ftps`**: Для передачи файлов без необходимости SSH, но с меньшей безопасностью.

### **Флаги команды `scp`**

| **Флаг**             | **Описание**                                                                          | **Пример**                                  |
| -------------------- | ------------------------------------------------------------------------------------- | ------------------------------------------- |
| `-P <port>`          | Указывает порт SSH (по умолчанию `22`).                                               | `scp -P 2222 file.txt user@host:/path/`     |
| `-i <identity_file>` | Указывает приватный ключ для подключения.                                             | `scp -i ~/.ssh/id_rsa file.txt user@host:/` |
| `-r`                 | Копирует директорию рекурсивно.                                                       | `scp -r folder user@host:/path/`            |
| `-C`                 | Включает сжатие при передаче.                                                         | `scp -C file.txt user@host:/path/`          |
| `-q`                 | Уменьшает вывод на экран (режим тишины).                                              | `scp -q file.txt user@host:/path/`          |
| `-v`                 | Включает подробный вывод (режим отладки).                                             | `scp -v file.txt user@host:/path/`          |
| `-o <ssh_option>`    | Передаёт параметры для SSH в формате ключ=значение.                                   | `scp -o StrictHostKeyChecking=no ...`       |
| `-l <limit>`         | Ограничивает скорость передачи (в Кбит/с).                                            | `scp -l 100 file.txt user@host:/path/`      |
| `-3`                 | Передаёт файлы через локальную машину при копировании между двумя удалёнными хостами. | `scp -3 user1@host1:/file user2@host2:/`    |
| `-p`                 | Сохраняет временные метки и права доступа оригинального файла.                        | `scp -p file.txt user@host:/path/`          |
| `-B`                 | Работает в фоновом режиме.                                                            | `scp -B file.txt user@host:/path/`          |
| `-4`                 | Использует только IPv4 для подключения.                                               | `scp -4 file.txt user@host:/path/`          |
| `-6`                 | Использует только IPv6 для подключения.                                               | `scp -6 file.txt user@host:/path/`          |
| `-S <ssh_command>`   | Указывает альтернативную команду для SSH.                                             | `scp -S /usr/bin/ssh ...`                   |
### **Особенности `scp`**

1. **Шифрование:** Передача данных осуществляется через SSH, что обеспечивает безопасность.
2. **Удобство:** Простота использования в сравнении с `rsync` или `sftp`.
3. **Скорость:** Обычно уступает `rsync`, особенно на больших объёмах данных.
### **Примеры команд**

Копирование директории с сжатием, через пользовательский SSH-порт и ключ:
`scp -r -C -P 2222 -i ~/.ssh/id_rsa ./local_folder user@remote_host:/remote_path/`
`scp -r ./project admin@192.168.1.100:/var/www`
`scp local_file user@host:/remote/path`


